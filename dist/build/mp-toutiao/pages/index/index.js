(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"6efe":function(t,e,i){},7262:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement;t._self._c},o=[]},8069:function(t,e,i){"use strict";i.r(e);var a=i("da67"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},bbe4:function(t,e,i){"use strict";var a=i("6efe"),n=i.n(a);n.a},da67:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("66fd")),n=o(i("a18e"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return u(t)||c(t)||l(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var d=a.default.extend({data:function(){return{swiperList:[],list:[],loadList:!0,page:2,topList:["https://fes.qyerstatic.com/FnSM0L0RkuD6fpZzjQIWXjYvJxHY?imageslim","https://fes.qyerstatic.com/FtRKczHDMUaI-Ij3ApFrHLlNeIlZ?imageslim","https://fes.qyerstatic.com/FodgZy7mY7rEmXgFNcRE1IqtmGu0?imageslim","https://fes.qyerstatic.com/FpQlgGGFC6xG6onfdYgEtg116YJM?imageslim","https://fes.qyerstatic.com/FqY10zz3wXmIA6UH4l47PtDRUZQ5?imageslim","https://fes.qyerstatic.com/FnjfAZk3dnEl5q-XqCXOLmCN0K89?imageslim","https://fes.qyerstatic.com/Fh-uSH2N3P8ZeahIia-xdYSifCJA?imageslim","https://fes.qyerstatic.com/FpTBVvznHeauP-1ta3uBCaatmCFb?imageslim","https://fes.qyerstatic.com/FhWyYglE5itITtXKQDCaZjFlBDTl?imageslim","https://fes.qyerstatic.com/FoIYq-QDm2PwlSdsGy4X9Pzf_I3K?imageslim"],background:["color1","color2","color3"],indicatorDots:!0,autoplay:!0,interval:2e3,duration:1e3,activeColor:"#fff",swiperColor:"rgba(255,255,255,.4)",urlcan:"",addFix:!1,scrollTop:0,tabs:[{name:"全部",tag:-1,select:!0},{name:"国内",tag:2,select:!1},{name:"境外",tag:3,select:!1},{name:"必吃榜",tag:7,select:!1},{name:"暑假推荐",tag:5,select:!1},{name:"主题游",tag:12,select:!1}]}},onLoad:function(){var e=this;this.getHomeList(),t.createSelectorQuery().select("#board").boundingClientRect((function(t){e.scrollTop=t.top,console.log(t)})).exec()},onShareAppMessage:function(t){return{title:"最世界榜单",path:"/pages/index/index",content:"一起发现最世界，Mark你走过的山水，为你的远方打榜！",desc:"一起发现最世界，Mark你走过的山水，为你的远方打榜！"}},onShareTimeline:function(){return{title:this.rankData.name,query:""}},onPullDownRefresh:function(){this.list=[],this.page=2,this.getHomeList()},methods:{scrolltoupperFun:function(t){t.target.scrollTop>=this.scrollTop?this.addFix=!0:this.addFix=!1},changeTab:function(t,e){var i="";t>0?(this.urlcan="&tag_key=".concat(t),this.list=[],this.page=1,this.getList(i)):this.getHomeList(),this.tabs.map((function(t){return t.select=!1,t})),this.tabs[e].select=!0,this.selectIndex=e},gotoUrl:function(t){-1!=t.indexOf("zworldrankingdetail")&&this.gotolink(t.split("?id=")[1])},gotolink:function(e){t.navigateTo({url:"../detail/detail?id="+e,animationType:"pop-in",animationDuration:200})},getHomeList:function(){var t=this;n.default.ajax("/rank/api/fp/get","get",{}).then((function(e){0==e.data.code&&(t.swiperList=e.data.data.focuslist.list,t.list=t.listChange(e.data.data.ranklist.list))}))},listChange:function(t){return t.map((function(t){t.photo=-1!=t.photo.indexOf("imageslim")?t.photo.replace("imageslim","imageMogr2/auto-orient/thumbnail/714x400/format/jpg"):t.photo+"?imageMogr2/auto-orient/thumbnail/714x400/format/jpg",t.poiListArr=t.poi_list.length.toString().split("");var e=t.poi_list.slice(0,3);return e.map((function(t){-1!=t.photo.indexOf("imageslim")?t.photo.replace("imageslim","imageMogr2/auto-orient/thumbnail/200x148/format/jpg"):t.photo=t.photo+"?imageMogr2/auto-orient/thumbnail/200x148/format/jpg"})),t.poi_list=e,t})),t},getList:function(){var t=this;this.disableList||(this.disableList=!0,n.default.ajax("/rank/api/ranklist/get?sn=10&cn=".concat(this.page).concat(this.urlcan,"&status=2,1"),"get",{}).then((function(e){t.disableList=!1,0==e.data.code&&(t.list=[].concat(r(t.list),r(t.listChange(e.data.data.list))),t.list.length>=e.data.data.tn?(t.loadList=!1,t.disableList=!0):t.page+=1)})))}}});e.default=d}).call(this,i("f266")["default"])},df45:function(t,e,i){"use strict";(function(t){i("6cdc");var e=a(i("f75a"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("f266")["createPage"])},f75a:function(t,e,i){"use strict";i.r(e);var a=i("7262"),n=i("8069");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("bbe4");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=l.exports}},[["df45","common/runtime","common/vendor"]]]);